###### 镜像1

添加账号

```javascript
personal.newAccount()
eth.accounts[0]
eth.getBalance(eth.accounts[0])
# 
miner.start(1)
```



- [x] 202.118.4.10
- [ ] 202.118.4.11
- [ ] 202.118.4.12
- [ ] 202.118.4.13

转账给两个重要账户

7999478935984868184

1000000000000000

```javascript
personal.unlockAccount(eth.accounts[0],"123",1000)

eth.sendTransaction({from:eth.accounts[0],to:"0x2B84de6F5AAb9CCB0a8A378769108b2449566543",value:1000000000000000000})
eth.sendTransaction({from:eth.accounts[0],to:"0x12345D8DaF196e9eAe6a92EdDAa04b265cA9Be35",value:1000000000000000000})

eth.getBalance("0x2B84de6F5AAb9CCB0a8A378769108b2449566543")
eth.getBalance("0x12345D8DaF196e9eAe6a92EdDAa04b265cA9Be35")
```



循环交易发送

```javascript
var from = eth.accounts[0];
var to = "0xbd4814e4e4df1b5787d1de398ba20b9df4664566";
var count = 10;        // 发送 10 笔
var delay = 3000;      // 每笔间隔 3 秒 (3000 ms)
var amount = web3.toWei(0.000000000000000010, "ether"); // 每笔 10 wei

function sendLoop(i) {
    if (i >= count) {
        console.log("✅ 已完成 " + count + " 笔交易。");
        return;
    }
    var tx = eth.sendTransaction({from: from, to: to, value: amount});
    console.log("第 " + (i+1) + " 笔交易已发送，TxHash: " + tx);
    setTimeout(function() {
        sendLoop(i + 1);
    }, delay);
}

sendLoop(0);
```



###### ip10

```
sudo yum install -y socat

```



- [x] 10-镜像1

```sh
python3 trigger_ddos_attack.py --password "123"
python3 ddos_detector_standard.py --loop --interval 5
```



- [x] 16 镜像2

```sh
#分叉
sudo iptables -A INPUT -p tcp --dport 30303 -j DROP
sudo iptables -A INPUT -p udp --dport 30303 -j DROP
sudo iptables -A OUTPUT -p tcp --dport 30303 -j DROP
sudo iptables -A OUTPUT -p udp --dport 30303 -j DROP

#停止分叉
sudo iptables -D INPUT -p tcp --dport 30303 -j DROP
sudo iptables -D INPUT -p udp --dport 30303 -j DROP
sudo iptables -D OUTPUT -p tcp --dport 30303 -j DROP
sudo iptables -D OUTPUT -p udp --dport 30303 -j DROP
请确保账户中有余额
账户地址
0x2B84de6F5AAb9CCB0a8A378769108b2449566543

# IPC 文件均位于 /root/Work/PraviteChain
python3 trigger_fork_scenarios.py \
  --local-ipc /root/Work/PraviteChain/geth.ipc \
  --remote-rpc http://202.118.4.11:8545 \
  --private-key 3751e1372eb387ac84a06cc0b0c5c1b44f0a2879170325c18d05a053a20a3cda \
  --to 0x12345D8DaF196e9eAe6a92EdDAa04b265cA9Be35 \
  --value 0.01 \
  --gas-limit 21000 \
  --miner-threads 1 \
  --tx-interval 3 \
  --broadcast-local \
  --p2p-port 30303 \
  --wait-after-reconnect 15


python3 simple_fork_detector.py --rpc-a http://127.0.0.1:8545 --rpc-b http://202.118.4.11:8545 --mode once
```

- [x] 17 镜像1

  (需要上传 run_4_2_3_17_identifiability.py和ddos_rules.py两个脚本)

```sh
python3 trigger_ddos_attack.py --password 123
python3 ./run_4_2_3_17_identifiability.py  --total-attacks 1  --normal-events 0
```

- [x] 18 镜像2

（需要重新上传脚本）

```
python deploy_revert_contract.py \
  --rpc-url http://127.0.0.1:8545 \
  --private-key 3751e1372eb387ac84a06cc0b0c5c1b44f0a2879170325c18d05a053a20a3cda
  
python trigger_failing_transactions.py \
  --rpc http://127.0.0.1:8545 \
  --rpc http://202.118.4.11:8545 \
  --private-key 3751e1372eb387ac84a06cc0b0c5c1b44f0a2879170325c18d05a053a20a3cda \
  --count 20 --label scenario-demo

python trigger_failing_transactions.py \
  --rpc http://127.0.0.1:8545 \
  --private-key 3751e1372eb387ac84a06cc0b0c5c1b44f0a2879170325c18d05a053a20a3cda \
  --count 20 --label scenario-demo

python detect_4_2_3_18_traceability.py \
  --ground-truth data/ground_truth_18_19.jsonl \
  --attack-log data/rpc_attack_log.jsonl
```

- [x] 19 镜像2

```sh
python detect_4_2_3_19_attack_traffic.py  --ground-truth data/ground_truth_18_19.jsonl   --attack-log data/rpc_attack_log.jsonl

```

- [x] 21镜像1

```sh
python3 ./trigger_front_run_instant_mining.py 
python3 ./metric_4_2_3_21_success_rate.py --loop --interval 2
```

- [x] 22 镜像1

```sh
python3 front_run_lightweight/trigger_front_run_events.py --victim-key 0x1fa0d6956dbdc7b7f88832a85477cf4cc8b639032adbcbdb1b77533530ad1b85 --frontrunner-key 0x3751e1372eb387ac84a06cc0b0c5c1b44f0a2879170325c18d05a053a20a3cda

python3 front_run_lightweight/collect_events.py --rpc http://127.0.0.1:8545 --event-dir data

python3 front_run_lightweight/metric_4_2_3_22_hot_contract_rate.py --config config.json  

```

- [x] 23镜像1

```sh
python3 ./trigger_front_run_multi.py 
python3 metric_4_2_3_23_avg_gas_premium.py --loop --interval 5 
```



- [x] 29 镜像1

```sh
python3 ./trigger_front_run_instant_mining.py 
同时
 python3 metric_4_2_3_29_detection_coverage.py --truth-file ./front_run_output/front_run_truth.json --loop
```





![image-20251026070736231](C:\Users\86135\AppData\Roaming\Typora\typora-user-images\image-20251026070736231.png)

### lhl



重入



